<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <head>
        <title>Dashboard</title>
    </head>
<body>
<h1>Welcome to the Dashboard</h1>
<p id="welcome-message">Loading...</p>

<h2>Navigation</h2>
<ul>
    <li><a href="profile.html">View Profile</a></li>
    <li><a href="active-auction.html">View Active Auctions</a></li>
    <li><a href="login.html">Logout</a></li>
</ul>

<script>
    fetch('http://localhost:8081/api/user', {
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('token')}`
            }
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('welcome-message').innerText = `Hi, ${data.username}!`;
        })
        .catch(error => {
            console.error('Error fetching user info:', error);
            alert('Session expired. Please login again.');
            window.location.href = 'login.html';
        });
</script>
</body>
</html>